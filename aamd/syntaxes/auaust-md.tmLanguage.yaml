# Convert yaml to json
# npx js-yaml syntaxes/auaust-md.tmLanguage.yaml > syntaxes/auaust-md.tmLanguage.json

# Bundle the extension
# vsce package

# Install the extension
# code --install-extension auaust-md-0.0.1.vsix

name: "AUAUST Markdown"

scopeName: "text.auaust-md"

patterns:
  - name: markup.heading.1
    match: "^\\s*(#)\\s+(.*)"
    captures:
      1:
        name: "markup.heading.symbol.1"
      0:
        name: "markup.heading.text.1"
  - name: markup.heading.2
    match: "^\\s*(#{2})\\s+(.*)"
    captures:
      1:
        name: "markup.heading.symbol.2"
      0:
        name: "markup.heading.text.2"
  - name: markup.heading.3
    match: "^\\s*(#{3})\\s+(.*)"
    captures:
      1:
        name: "markup.heading.symbol.3"
      0:
        name: "markup.heading.text.3"
  - name: markup.heading.4
    match: "^\\s*(#{4})\\s+(.*)"
    captures:
      1:
        name: "markup.heading.symbol.4"
      0:
        name: "markup.heading.text.4"
  - name: markup.heading.5
    match: "^\\s*(#{5})\\s+(.*)"
    captures:
      1:
        name: "markup.heading.symbol.5"
      0:
        name: "markup.heading.text.5"
  - name: markup.heading.6
    match: "^\\s*(#{6})\\s+(.*)"
    captures:
      1:
        name: "markup.heading.symbol.6"
      0:
        name: "markup.heading.text.6"
  - name: markup.heading
    match: "^\\s*(#{1,6})\\s+(.*)"
    captures:
      1:
        name: "markup.heading.symbol"
      0:
        name: "markup.heading.text"
  # - name: markup.placeholder
  #   match: \{\{\s*([\w-]+)\s*\}\}
  #   captures:
  #     0:
  #       name: markup.placeholder.symbol
  #     1:
  #       name: markup.placeholder.custom
  - name: markup.placeholder
    begin: "{{2}\\s*"
    end: "\\s*}{2}"
    patterns:
      # - name: markup.placeholder.symbol
      #   match: "(?<=\\{{).*?(?=\\}})"
      - name: markup.placeholder.default
        match: (mm|dd|yyyy|hh|ii|ss|ampm)
      - name: markup.placeholder.custom
        match: \w+
      # - name: markup.placeholder.ponctuation.chaining
      #   begin: "->"
      #   end: "->"
      #   patterns:
      #     - name: markup.placeholder.function
      #       match: \w+
      #     - name: markup.placeholder.ponctuation.open_arg
      #       match: "\\w+\\s*(:)"
      - name: markup.placeholder
        match: "(->)\\s*(\\w+)\\s*(:)?\\s*(\\w+)?"
        captures:
          1:
            name: markup.placeholder.ponctuation.chaining
          2:
            name: markup.placeholder.function
          3:
            name: markup.placeholder.ponctuation.open_argument
          4:
            name: markup.placeholder.argument
      - name: markup.placeholder.syntax_error
        match: "([->]|:{2,})\\s*"
